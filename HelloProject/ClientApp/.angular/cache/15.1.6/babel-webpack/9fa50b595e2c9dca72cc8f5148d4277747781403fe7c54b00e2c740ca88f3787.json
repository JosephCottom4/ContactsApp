{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class CreateModalComponent {\n  constructor(http, router, baseUrl) {\n    this.http = http;\n    this.router = router;\n    this.baseUrl = baseUrl;\n    this.contact = {\n      firstName: '',\n      lastName: '',\n      phoneNumber: ''\n    };\n    this.isUpdateMode = false;\n  }\n  saveContact() {\n    if (this.isUpdateMode) {\n      this.updateContact();\n    } else {\n      this.createContact();\n    }\n  }\n  createContact() {\n    this.http.post(this.baseUrl + 'weatherforecast', this.contact).subscribe(() => {\n      console.log('Contact created successfully!');\n      this.router.navigate(['']);\n    }, error => {\n      console.error('Error creating contact:', error);\n    });\n  }\n  updateContact() {\n    this.http.put(this.baseUrl + 'weatherforecast', this.contact).subscribe(() => {\n      console.log('Contact updated successfully!');\n      this.router.navigate(['']);\n    }, error => {\n      console.error('Error updating contact:', error);\n    });\n  }\n}\nCreateModalComponent.ɵfac = function CreateModalComponent_Factory(t) {\n  return new (t || CreateModalComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject('BASE_URL'));\n};\nCreateModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateModalComponent,\n  selectors: [[\"app-create-modal\"]],\n  inputs: {\n    contact: \"contact\",\n    isUpdateMode: \"isUpdateMode\"\n  },\n  decls: 15,\n  vars: 3,\n  consts: [[1, \"create-modal-form\", 3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"firstName\"], [\"type\", \"text\", \"id\", \"firstName\", \"name\", \"firstName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lastName\"], [\"type\", \"text\", \"id\", \"lastName\", \"name\", \"lastName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phoneNumber\"], [\"type\", \"text\", \"id\", \"phoneNumber\", \"name\", \"phoneNumber\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function CreateModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function CreateModalComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.saveContact();\n      });\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"label\", 2);\n      i0.ɵɵtext(3, \"First Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateModalComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.contact.firstName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 1)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Last Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateModalComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.contact.lastName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 1)(10, \"label\", 6);\n      i0.ɵɵtext(11, \"Phone Number:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateModalComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.contact.phoneNumber = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"button\", 8);\n      i0.ɵɵtext(14, \"Save Changes\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.contact.firstName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.contact.lastName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.contact.phoneNumber);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;AAcA,OAAM,MAAOA,oBAAoB;EAQ/BC,YACUC,IAAgB,EAChBC,MAAc,EACMC,OAAe;IAFnC,SAAI,GAAJF,IAAI;IACJ,WAAM,GAANC,MAAM;IACc,YAAO,GAAPC,OAAO;IAV5B,YAAO,GAAkB;MAChCC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE;KACd;IACQ,iBAAY,GAAY,KAAK;EAOtC;EACAC,WAAW;IACT,IAAI,IAAI,CAACC,YAAY,EAAE;MACrB,IAAI,CAACC,aAAa,EAAE;KACrB,MAAM;MACL,IAAI,CAACC,aAAa,EAAE;;EAExB;EAEQA,aAAa;IACnB,IAAI,CAACT,IAAI,CAACU,IAAI,CAAC,IAAI,CAACR,OAAO,GAAG,iBAAiB,EAAE,IAAI,CAACS,OAAO,CAAC,CAC3DC,SAAS,CACR,MAAK;MACHC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;MAC5C,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,EACAC,KAAK,IAAI;MACRH,OAAO,CAACG,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,CACF;EACL;EAEQR,aAAa;IACnB,IAAI,CAACR,IAAI,CAACiB,GAAG,CAAC,IAAI,CAACf,OAAO,GAAG,iBAAiB,EAAE,IAAI,CAACS,OAAO,CAAC,CAC1DC,SAAS,CACR,MAAK;MACHC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;MAC5C,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,EACAC,KAAK,IAAI;MACRH,OAAO,CAACG,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,CACF;EACL;;AA9CWlB,oBAAoB;mBAApBA,oBAAoB,6FAWrB,UAAU;AAAA;AAXTA,oBAAoB;QAApBA,oBAAoB;EAAAoB;EAAAC;IAAAR;IAAAJ;EAAA;EAAAa;EAAAC;EAAAC;EAAAC;IAAA;MCdjCC,+BAA2D;MAArDA;QAAA,OAAYC,iBAAa;MAAA,EAAC;MAC9BD,8BAAwB;MACCA,2BAAW;MAAAA,iBAAQ;MAC1CA,gCAA4F;MAA1DA;QAAA;MAAA,EAA+B;MAAjEA,iBAA4F;MAE9FA,8BAAwB;MACAA,0BAAU;MAAAA,iBAAQ;MACxCA,gCAAyF;MAAxDA;QAAA;MAAA,EAA8B;MAA/DA,iBAAyF;MAE3FA,8BAAwB;MACGA,8BAAa;MAAAA,iBAAQ;MAC9CA,iCAAkG;MAA9DA;QAAA;MAAA,EAAiC;MAArEA,iBAAkG;MAEpGA,kCAA8C;MAAAA,6BAAY;MAAAA,iBAAS;;;MAV/BA,eAA+B;MAA/BA,+CAA+B;MAIhCA,eAA8B;MAA9BA,8CAA8B;MAI3BA,eAAiC;MAAjCA,iDAAiC","names":["CreateModalComponent","constructor","http","router","baseUrl","firstName","lastName","phoneNumber","saveContact","isUpdateMode","updateContact","createContact","post","contact","subscribe","console","log","navigate","error","put","selectors","inputs","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Projects\\ContactsApp\\HelloProject\\ClientApp\\src\\app\\create-modal\\create-model.component.ts","C:\\Projects\\ContactsApp\\HelloProject\\ClientApp\\src\\app\\create-modal\\create-modal.component.html"],"sourcesContent":["import { Component, Input, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\n\r\ninterface NewContactDto {\r\n  firstName: string;\r\n  lastName: string;\r\n  phoneNumber: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-create-modal',\r\n  templateUrl: './create-modal.component.html'\r\n})\r\nexport class CreateModalComponent {\r\n  @Input() contact: NewContactDto = {\r\n    firstName: '',\r\n    lastName: '',\r\n    phoneNumber: ''\r\n  };\r\n  @Input() isUpdateMode: boolean = false;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    @Inject('BASE_URL') private baseUrl: string\r\n  ) {\r\n  }\r\n  saveContact() {\r\n    if (this.isUpdateMode) {\r\n      this.updateContact();\r\n    } else {\r\n      this.createContact();\r\n    }\r\n  }\r\n\r\n  private createContact() {\r\n    this.http.post(this.baseUrl + 'weatherforecast', this.contact)\r\n      .subscribe(\r\n        () => {\r\n          console.log('Contact created successfully!');\r\n          this.router.navigate(['']);\r\n        },\r\n        (error) => {\r\n          console.error('Error creating contact:', error);\r\n        }\r\n      );\r\n  }\r\n\r\n  private updateContact() {\r\n    this.http.put(this.baseUrl + 'weatherforecast', this.contact)\r\n      .subscribe(\r\n        () => {\r\n          console.log('Contact updated successfully!');\r\n          this.router.navigate(['']);\r\n        },\r\n        (error) => {\r\n          console.error('Error updating contact:', error);\r\n        }\r\n      );\r\n  }\r\n}\r\n","<form (ngSubmit)=\"saveContact()\" class=\"create-modal-form\">\r\n  <div class=\"form-group\">\r\n    <label for=\"firstName\">First Name:</label>\r\n    <input type=\"text\" id=\"firstName\" [(ngModel)]=\"contact.firstName\" name=\"firstName\" required>\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label for=\"lastName\">Last Name:</label>\r\n    <input type=\"text\" id=\"lastName\" [(ngModel)]=\"contact.lastName\" name=\"lastName\" required>\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label for=\"phoneNumber\">Phone Number:</label>\r\n    <input type=\"text\" id=\"phoneNumber\" [(ngModel)]=\"contact.phoneNumber\" name=\"phoneNumber\" required>\r\n  </div>\r\n  <button type=\"submit\" class=\"btn btn-primary\">Save Changes</button>\r\n</form>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}