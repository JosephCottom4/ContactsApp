{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Input, Inject } from '@angular/core';\nlet ContactModalComponent = class ContactModalComponent {\n  constructor(http, router, baseUrl) {\n    this.http = http;\n    this.router = router;\n    this.baseUrl = baseUrl;\n    this.contact = {\n      firstName: '',\n      lastName: '',\n      phoneNumber: ''\n    };\n    this.isUpdateMode = false;\n  }\n  saveContact() {\n    if (this.isUpdateMode) {\n      this.updateContact();\n    } else {\n      this.createContact();\n    }\n  }\n  createContact() {\n    this.http.post(this.baseUrl + 'weatherforecast', this.contact).subscribe(() => {\n      console.log('Contact created successfully!');\n      this.router.navigate(['']);\n    }, error => {\n      console.error('Error creating contact:', error);\n    });\n  }\n  updateContact() {\n    this.http.put(this.baseUrl + 'weatherforecast', this.contact).subscribe(() => {\n      console.log('Contact updated successfully!');\n      this.router.navigate(['']);\n    }, error => {\n      console.error('Error updating contact:', error);\n    });\n  }\n};\n__decorate([Input()], ContactModalComponent.prototype, \"contact\", void 0);\n__decorate([Input()], ContactModalComponent.prototype, \"isUpdateMode\", void 0);\nContactModalComponent = __decorate([Component({\n  selector: 'app-contact-modal',\n  templateUrl: './contact-modal.component.html'\n}), __param(2, Inject('BASE_URL'))], ContactModalComponent);\nexport { ContactModalComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,KAAK,EAAEC,MAAM,QAAQ,eAAe;AAcjD,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAQhCC,YACUC,IAAgB,EAChBC,MAAc,EACMC,OAAe;IAFnC,SAAI,GAAJF,IAAI;IACJ,WAAM,GAANC,MAAM;IACc,YAAO,GAAPC,OAAO;IAV5B,YAAO,GAAY;MAC1BC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE;KACd;IACQ,iBAAY,GAAY,KAAK;EAMlC;EAEJC,WAAW;IACT,IAAI,IAAI,CAACC,YAAY,EAAE;MACrB,IAAI,CAACC,aAAa,EAAE;KACrB,MAAM;MACL,IAAI,CAACC,aAAa,EAAE;;EAExB;EAEQA,aAAa;IACnB,IAAI,CAACT,IAAI,CAACU,IAAI,CAAC,IAAI,CAACR,OAAO,GAAG,iBAAiB,EAAE,IAAI,CAACS,OAAO,CAAC,CAC3DC,SAAS,CACR,MAAK;MACHC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;MAC5C,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,EACAC,KAAK,IAAI;MACRH,OAAO,CAACG,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,CACF;EACL;EAEQR,aAAa;IACnB,IAAI,CAACR,IAAI,CAACiB,GAAG,CAAC,IAAI,CAACf,OAAO,GAAG,iBAAiB,EAAE,IAAI,CAACS,OAAO,CAAC,CAC1DC,SAAS,CACR,MAAK;MACHC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;MAC5C,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,EACAC,KAAK,IAAI;MACRH,OAAO,CAACG,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,CACF;EACL;CACD;AA9CUE,YAARtB,KAAK,EAAE,sDAIN;AACOsB,YAARtB,KAAK,EAAE,2DAA+B;AAN5BE,qBAAqB,eAJjCH,SAAS,CAAC;EACTwB,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE;CACd,CAAC,EAYGC,iBAAM,CAAC,UAAU,CAAC,IAXVvB,qBAAqB,CA+CjC;SA/CYA,qBAAqB","names":["Component","Input","Inject","ContactModalComponent","constructor","http","router","baseUrl","firstName","lastName","phoneNumber","saveContact","isUpdateMode","updateContact","createContact","post","contact","subscribe","console","log","navigate","error","put","__decorate","selector","templateUrl","__param"],"sourceRoot":"","sources":["C:\\Projects\\ContactsApp\\HelloProject\\ClientApp\\src\\app\\create-modal\\create-model.component.ts"],"sourcesContent":["import { Component, Input, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\n\r\ninterface Contact {\r\n  firstName: string;\r\n  lastName: string;\r\n  phoneNumber: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-contact-modal',\r\n  templateUrl: './contact-modal.component.html'\r\n})\r\nexport class ContactModalComponent {\r\n  @Input() contact: Contact = {\r\n    firstName: '',\r\n    lastName: '',\r\n    phoneNumber: ''\r\n  };\r\n  @Input() isUpdateMode: boolean = false;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    @Inject('BASE_URL') private baseUrl: string\r\n  ) { }\r\n\r\n  saveContact() {\r\n    if (this.isUpdateMode) {\r\n      this.updateContact();\r\n    } else {\r\n      this.createContact();\r\n    }\r\n  }\r\n\r\n  private createContact() {\r\n    this.http.post(this.baseUrl + 'weatherforecast', this.contact)\r\n      .subscribe(\r\n        () => {\r\n          console.log('Contact created successfully!');\r\n          this.router.navigate(['']);\r\n        },\r\n        (error) => {\r\n          console.error('Error creating contact:', error);\r\n        }\r\n      );\r\n  }\r\n\r\n  private updateContact() {\r\n    this.http.put(this.baseUrl + 'weatherforecast', this.contact)\r\n      .subscribe(\r\n        () => {\r\n          console.log('Contact updated successfully!');\r\n          this.router.navigate(['']);\r\n        },\r\n        (error) => {\r\n          console.error('Error updating contact:', error);\r\n        }\r\n      );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}