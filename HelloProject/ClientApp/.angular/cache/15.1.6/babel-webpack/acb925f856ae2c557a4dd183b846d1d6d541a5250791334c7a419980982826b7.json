{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class UpdateModalComponent {\n  constructor(http, router, route,\n  // Inject ActivatedRoute\n  baseUrl) {\n    this.http = http;\n    this.router = router;\n    this.route = route;\n    this.baseUrl = baseUrl;\n    this.contact = {\n      id: 0,\n      firstName: '',\n      lastName: '',\n      phoneNumber: ''\n    };\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const contactId = params['id'];\n      // Make an API call to fetch the contact based on the contactId\n      this.http.get(this.baseUrl + `weatherforecast/${contactId}`).subscribe(data => {\n        this.contact = data;\n      }, error => {\n        console.error('Error fetching contact:', error);\n      });\n    });\n  }\n  updateContact() {\n    this.http.put(this.baseUrl + 'weatherforecast', this.contact).subscribe(() => {\n      console.log('Contact updated successfully!');\n      this.router.navigate(['']);\n    }, error => {\n      console.error('Error updating contact:', error);\n    });\n  }\n}\nUpdateModalComponent.ɵfac = function UpdateModalComponent_Factory(t) {\n  return new (t || UpdateModalComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject('BASE_URL'));\n};\nUpdateModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdateModalComponent,\n  selectors: [[\"app-update-modal\"]],\n  decls: 15,\n  vars: 3,\n  consts: [[1, \"create-modal-form\", 3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"firstName\"], [\"type\", \"text\", \"id\", \"firstName\", \"name\", \"firstName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lastName\"], [\"type\", \"text\", \"id\", \"lastName\", \"name\", \"lastName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phoneNumber\"], [\"type\", \"text\", \"id\", \"phoneNumber\", \"name\", \"phoneNumber\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function UpdateModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function UpdateModalComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.updateContact();\n      });\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"label\", 2);\n      i0.ɵɵtext(3, \"First Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function UpdateModalComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.contact.firstName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 1)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Last Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function UpdateModalComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.contact.lastName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 1)(10, \"label\", 6);\n      i0.ɵɵtext(11, \"Phone Number:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function UpdateModalComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.contact.phoneNumber = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"button\", 8);\n      i0.ɵɵtext(14, \"Update\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.contact.firstName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.contact.lastName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.contact.phoneNumber);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;AAeA,OAAM,MAAOA,oBAAoB;EAQ/BC,YACUC,IAAgB,EAChBC,MAAc,EACdC,KAAqB;EAAE;EACHC,OAAe;IAHnC,SAAI,GAAJH,IAAI;IACJ,WAAM,GAANC,MAAM;IACN,UAAK,GAALC,KAAK;IACe,YAAO,GAAPC,OAAO;IAXrC,YAAO,GAAY;MACjBC,EAAE,EAAE,CAAC;MACLC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE;KACd;EAOG;EAEJC,QAAQ;IACN,IAAI,CAACN,KAAK,CAACO,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACnC,MAAME,SAAS,GAAGF,MAAM,CAAC,IAAI,CAAC;MAC9B;MACA,IAAI,CAACT,IAAI,CAACY,GAAG,CAAU,IAAI,CAACT,OAAO,GAAG,mBAAmBQ,SAAS,EAAE,CAAC,CAClED,SAAS,CACPG,IAAI,IAAI;QACP,IAAI,CAACC,OAAO,GAAGD,IAAI;MACrB,CAAC,EACAE,KAAK,IAAI;QACRC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD,CAAC,CACF;IACL,CAAC,CAAC;EACJ;EAEAE,aAAa;IACX,IAAI,CAACjB,IAAI,CAACkB,GAAG,CAAC,IAAI,CAACf,OAAO,GAAG,iBAAiB,EAAE,IAAI,CAACW,OAAO,CAAC,CAC1DJ,SAAS,CACR,MAAK;MACHM,OAAO,CAACG,GAAG,CAAC,+BAA+B,CAAC;MAC5C,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,EACAL,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,CACF;EACL;;AA1CWjB,oBAAoB;mBAApBA,oBAAoB,sIAYrB,UAAU;AAAA;AAZTA,oBAAoB;QAApBA,oBAAoB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCfjCC,+BAA6D;MAAvDA;QAAA,OAAYC,mBAAe;MAAA,EAAC;MAChCD,8BAAwB;MACCA,2BAAW;MAAAA,iBAAQ;MAC1CA,gCAA4F;MAA1DA;QAAA;MAAA,EAA+B;MAAjEA,iBAA4F;MAE9FA,8BAAwB;MACAA,0BAAU;MAAAA,iBAAQ;MACxCA,gCAAyF;MAAxDA;QAAA;MAAA,EAA8B;MAA/DA,iBAAyF;MAE3FA,8BAAwB;MACGA,8BAAa;MAAAA,iBAAQ;MAC9CA,iCAAkG;MAA9DA;QAAA;MAAA,EAAiC;MAArEA,iBAAkG;MAEpGA,kCAA8C;MAAAA,uBAAM;MAAAA,iBAAS;;;MAVzBA,eAA+B;MAA/BA,+CAA+B;MAIhCA,eAA8B;MAA9BA,8CAA8B;MAI3BA,eAAiC;MAAjCA,iDAAiC","names":["UpdateModalComponent","constructor","http","router","route","baseUrl","id","firstName","lastName","phoneNumber","ngOnInit","params","subscribe","contactId","get","data","contact","error","console","updateContact","put","log","navigate","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Projects\\ContactsApp\\HelloProject\\ClientApp\\src\\app\\update-modal\\update-model.component.ts","C:\\Projects\\ContactsApp\\HelloProject\\ClientApp\\src\\app\\update-modal\\update-modal.component.html"],"sourcesContent":["import { Component, OnInit, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\ninterface Contact {\r\n  id: number; // Add the ID property\r\n  firstName: string;\r\n  lastName: string;\r\n  phoneNumber: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-update-modal',\r\n  templateUrl: './update-modal.component.html'\r\n})\r\nexport class UpdateModalComponent implements OnInit {\r\n  contact: Contact = {\r\n    id: 0, // Initialize with a default ID\r\n    firstName: '',\r\n    lastName: '',\r\n    phoneNumber: ''\r\n  };\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private route: ActivatedRoute, // Inject ActivatedRoute\r\n    @Inject('BASE_URL') private baseUrl: string\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.params.subscribe(params => {\r\n      const contactId = params['id'];\r\n      // Make an API call to fetch the contact based on the contactId\r\n      this.http.get<Contact>(this.baseUrl + `weatherforecast/${contactId}`)\r\n        .subscribe(\r\n          (data) => {\r\n            this.contact = data;\r\n          },\r\n          (error) => {\r\n            console.error('Error fetching contact:', error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  updateContact() {\r\n    this.http.put(this.baseUrl + 'weatherforecast', this.contact)\r\n      .subscribe(\r\n        () => {\r\n          console.log('Contact updated successfully!');\r\n          this.router.navigate(['']);\r\n        },\r\n        (error) => {\r\n          console.error('Error updating contact:', error);\r\n        }\r\n      );\r\n  }\r\n}\r\n","<form (ngSubmit)=\"updateContact()\" class=\"create-modal-form\">\r\n  <div class=\"form-group\">\r\n    <label for=\"firstName\">First Name:</label>\r\n    <input type=\"text\" id=\"firstName\" [(ngModel)]=\"contact.firstName\" name=\"firstName\" required>\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label for=\"lastName\">Last Name:</label>\r\n    <input type=\"text\" id=\"lastName\" [(ngModel)]=\"contact.lastName\" name=\"lastName\" required>\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label for=\"phoneNumber\">Phone Number:</label>\r\n    <input type=\"text\" id=\"phoneNumber\" [(ngModel)]=\"contact.phoneNumber\" name=\"phoneNumber\" required>\r\n  </div>\r\n  <button type=\"submit\" class=\"btn btn-primary\">Update</button>\r\n</form>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}